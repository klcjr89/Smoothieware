

# Azteeg X5 Mini V3 configuration
# Note: Lines must not exceed 132 characters and '#' characters mean what follows is ignored

# Basic motion configuration

default_feed_rate                            4000            # Default speed in mm/min for G1/G2/G3 moves
default_seek_rate                            4000            # Default speed in mm/min for G0 moves
mm_per_arc_segment                           0               # Fixed length for line segments that divide arcs, 0 to disable
mm_per_line_segment                          0               # Cut lines into segments of this size
mm_max_arc_error                             0.01            # The maximum error for line segments that divide arcs, 0 to disable
															 # Note: it is invalid for both of the above to be set to 0
															 # if both are used, will use largest segment length based on radius

# Arm solution configuration : Cartesian robot. Translates mm positions into stepper positions

alpha_steps_per_mm                           800             # Steps per mm for alpha (X) stepper
beta_steps_per_mm                            800             # Steps per mm for beta (Y) stepper
gamma_steps_per_mm                           1600            # Steps per mm for gamma (Z) stepper


# Planner configuration : Look-ahead and acceleration configuration

acceleration                                 3000            # Acceleration in mm/s^2
junction_deviation                           0.05            # See http://smoothieware.org/motion-control#junction-deviation
#z_acceleration                              10              # Acceleration for Z only moves in mm/s^2, 0 uses acceleration which is the default
#z_junction_deviation                        0.0             # For Z only moves, -1 uses junction_deviation, zero disables junction_deviation on Z only moves

# Cartesian axis speed limits

x_axis_max_speed                             7200            # Maximum speed in mm/min
y_axis_max_speed                             7200            # Maximum speed in mm/min
z_axis_max_speed                             3000            # Maximum speed in mm/min


# Stepper configuration
# Pins are defined as ports and pin numbers, appending "!" to the number will invert a pin

alpha_step_pin                               2.1             # Pin for alpha stepper step signal
alpha_dir_pin                                0.11!           # Pin for alpha stepper direction, add '!' to reverse the direction
alpha_en_pin                                 0.10            # Pin for alpha enable pin
alpha_current                                1.68            # X stepper motor current
alpha_max_rate                               7200            # Maximum rate in mm/min

beta_step_pin                                2.2             # Pin for beta stepper step signal
beta_dir_pin                                 0.20!           # Pin for beta stepper direction, add '!' to reverse the direction
beta_en_pin                                  0.19            # Pin for beta enable
beta_current                                 1.68            # Y stepper motor current
beta_max_rate                                7200            # Maxmimum rate in mm/min

gamma_step_pin                               2.3             # Pin for gamma stepper step signal
gamma_dir_pin                                0.22!           # Pin for gamma stepper direction, add '!' to reverse the direction
gamma_en_pin                                 0.21            # Pin for gamma enable
gamma_current                                1.8             # Z stepper motor current
gamma_max_rate                               3000            # Maximum rate in mm/min


# Extruder configuration

extruder.hotend.enable                          true
extruder.hotend.steps_per_mm                    2600         # Steps per mm for the extruder stepper
extruder.hotend.default_feed_rate               600          # Default rate (mm/min) for moves where only the extruder moves
extruder.hotend.acceleration                    120          # Acceleration for the stepper motor mm/s^2
extruder.hotend.max_speed                       100          # Maximum speed in mm/s

extruder.hotend.step_pin                        2.0          # Pin for extruder step signal
extruder.hotend.dir_pin                         0.5          # Pin for extruder dir signal ( add '!' to reverse direction )
extruder.hotend.en_pin                          0.4          # Pin for extruder enable signal

# Firmware retraction - these are the defaults if not defined, must be defined for each extruder if not using the defaults

extruder.hotend.retract_length                  0.80         # Retract length in mm
extruder.hotend.retract_feedrate                30           # Retract feedrate in mm/sec
extruder.hotend.retract_recover_length          0            # Additional length for recover
extruder.hotend.retract_recover_feedrate        30           # Recover feedrate in mm/sec (should be less than retract feedrate)
extruder.hotend.retract_zlift_length            0.0          # Z-lift on retract in mm, 0 disables
extruder.hotend.retract_zlift_feedrate          3000         # Z-lift feedrate in mm/min

delta_current                                   0.5          # Extruder stepper motor current


# Temperature control

temperature_control.module_name.runaway_heating_timeout      4088     # Max is 4088 seconds
temperature_control.module_name.runaway_range                63       # Max is 63Â°C

# Hotend configuration

temperature_control.hotend.enable              true
temperature_control.hotend.thermistor          Semitec
temperature_control.hotend.thermistor_pin      0.24          # Pin for the thermistor to read
temperature_control.hotend.heater_pin          2.5           # Pin that controls the heater
temperature_control.hotend.set_m_code          104           # M-code to set the temperature for this module
temperature_control.hotend.set_and_wait_m_code 109           # M-code to set-and-wait for this module
temperature_control.hotend.designator          T             # Designator letter for this module

# E3D-v6 with 24V 40W heater into copper heater block

temperature_control.hotend.p_factor         22.367
temperature_control.hotend.i_factor         1.383
temperature_control.hotend.d_factor         90.446

# Heated bed configuration

temperature_control.bed.enable                 true
temperature_control.bed.thermistor_pin         0.23          # Pin for the thermistor to read
temperature_control.bed.heater_pin             2.7           # Pin that controls the heater
temperature_control.bed.set_m_code             140           # M-code to set the temperature for this module
temperature_control.bed.set_and_wait_m_code    190           # M-code to set-and-wait for this module
temperature_control.bed.designator             B             # Designator letter for this module

temperature_control.bed.beta                3950

temperature_control.bed.p_factor			174.433
temperature_control.bed.i_factor			15.201
temperature_control.bed.d_factor			500.406


# Switch modules

switch.fan.enable                            true
switch.fan.input_on_command                  M106            # Command that will turn this switch on
switch.fan.input_off_command                 M107            # Command that will turn this switch off
switch.fan.output_pin                        1.25            # Pin this module controls
switch.fan.output_type                       pwm             # PWM output settable with S parameter in the input_on_comand
switch.fan.max_pwm                           64              # Set max pwm for the pin default is 255, 64 for 12V fan on 24V PSU


# Endstops

endstops_enable								 true

alpha_min_endstop                            1.24^           # Pin to read min endstop, add a ! to invert if endstop is NO connected to ground
alpha_homing_direction                       home_to_min     # Or set to home_to_max and set alpha_max and uncomment the alpha_max_endstop
alpha_min                                    0               # This gets loaded as the current position after homing when home_to_min is set

beta_min_endstop                             1.26^           # Pin to read min endstop, add a ! to invert if endstop is NO connected to ground
beta_homing_direction                        home_to_min     # Or set to home_to_max and set alpha_max and uncomment the alpha_max_endstop
beta_min                                     0               # This gets loaded as the current position after homing when home_to_min is set

gamma_min_endstop                            1.28!^          # Pin to read min endstop, add a ! to invert if endstop is NO connected to ground
gamma_homing_direction                       home_to_min     # Or set to home_to_max and set alpha_max and uncomment the alpha_max_endstop
gamma_min                                    0               # This gets loaded as the current position after homing when home_to_min is set
gamma_max                                    200             # This gets loaded as the current position after homing when home_to_max is set

alpha_max_travel                             350             # Max travel in mm for alpha/X axis when homing before giving up
beta_max_travel                              350             # Max travel in mm for beta/Y axis when homing before giving up
gamma_max_travel                             400             # Max travel in mm for gamma/Z axis when homing before giving up

# Endstops home at their fast feedrate first and once the endstop is triggered they home again at their slow feedrate for accuracy

alpha_fast_homing_rate_mm_s                  50              # Alpha/X fast homing feedrate in mm/sec
alpha_slow_homing_rate_mm_s                  25              # Alpha/X slow homing feedrate in mm/sec
alpha_homing_retract_mm                      5               # Distance to retract from the endstop after it is hit for alpha/X

beta_fast_homing_rate_mm_s                   50              # Beta/Y  fast homing feedrate in mm/sec
beta_slow_homing_rate_mm_s                   25              # Beta/Y  slow homing feedrate in mm/sec
beta_homing_retract_mm                       5               # Distance to retract from the endstop after it is hit for beta/Y

gamma_fast_homing_rate_mm_s                  10              # Gamma/Z fast homing feedrate in mm/sec
gamma_slow_homing_rate_mm_s                  1               # Gamma/Z slow homing feedrate in mm/sec
gamma_homing_retract_mm                      2               # Distance to retract from the endstop after it is hit for gamma/Z


# Optional order in which axes will home, default is they all home at the same time
# If this is set it will force each axis to home one at a time in the specified order

homing_order                                 XYZ             # X, followed by Y, then Z last
endstop_debounce_ms                          1               # Uncomment if you get noise on your endstops. Default is a 1 millisecond debounce


# Z probe

zprobe.enable                                true
zprobe.probe_pin                             1.28!^
zprobe.slow_feedrate                         1               # Probe feed rate in mm/sec
zprobe.debounce_ms                           1               # Set if noisy
zprobe.fast_feedrate                         50              # X and Y axes feedrate in mm/sec
zprobe.probe_height                          2               # How far above the bed to start probing


# Leveling strategy

#leveling-strategy.rectangular-grid.enable              true
#leveling-strategy.rectangular-grid.do_home             true
#leveling-strategy.rectangular-grid.save                true
#leveling-strategy.rectangular-grid.human_readable      true
#leveling-strategy.rectangular-grid.x_size              300
#leveling-strategy.rectangular-grid.y_size              300
#leveling-strategy.rectangular-grid.size                15
#leveling-strategy.rectangular-grid.probe_offsets       0,0,0    # Probe offsets for X,Y,Z  (Z should always be 0)
#leveling-strategy.rectangular-grid.initial_height      5       # Move to Z5 before the first probe

# LCD panel

panel.enable                                true
panel.lcd                                   reprap_discount_glcd

panel.spi_channel                           0
panel.spi_cs_pin                            0.16
panel.encoder_a_pin                         1.23!^
panel.encoder_b_pin                         2.11!^
panel.click_button_pin                      3.26!^
panel.buzz_pin                              1.31

panel.encoder_resolution                    4
panel.menu_offset                           0

panel.alpha_jog_feedrate                    3600    # X axis jogging feedrate in mm/min
panel.beta_jog_feedrate                     3600    # Y axis jogging feedrate in mm/min
panel.gamma_jog_feedrate                    1200    # Z axis jogging feedrate in mm/min

panel.hotend_temperature                    210     # Temperature to set hotend when preheat is selected
panel.bed_temperature                       70      # Temperature to set bed when preheat is selected


# Custom menus
# Note: The '_' character gets converted to a space in the menu and commands, | is used to separate multiple commands

custom_menu.filament_change.enable          true
custom_menu.filament_change.name            Change_Filament
custom_menu.filament_change.command         M600

custom_menu.resume.enable                   true
custom_menu.resume.name                     Resume
custom_menu.resume.command                  M601

after_suspend_gcode                         G1_X0_Y0|G91|G1_Z20|G90
leave_heaters_on_suspend                    true

custom_menu.filament_extrude.enable         true
custom_menu.filament_extrude.name           Extrude_10mm
custom_menu.filament_extrude.command        G92_E0|G1_E10_F300|G92_E0

custom_menu.reset.enable                    true
custom_menu.reset.name                      Reset
custom_menu.reset.command                   reset


# Network settings

network.enable                              true             # Enable the ethernet network services
network.webserver.enable                    true             # Enable the webserver
network.telnet.enable                       true             # Enable the telnet server
network.ip_address                          auto             # Use DHCP to get the IP address


# System configuration
# Serial communications configuration (baud rate defaults to 9600 if undefined)
# For communication over the UART port, not the USB/serial port

uart0.baud_rate                             115200           # Baud rate for the default hardware (UART) serial port

second_usb_serial_enable                    false            # This enables a second USB serial port
leds_disable                                true             # Disable using LEDs after the config is loaded
play_led_disable                            true             # Disable the play LED


# Panucatt SD6128 digipot configuration

currentcontrol_module_enable                true
digipot_max_current                         2.0              # Max current
digipot_factor                              113.5            # Factor for converting current into a digipot value

